# Template file for 'python3-automat'
pkgname=python3-automat
version=25.4.16
revision=1
build_style=python3-pep517
hostmakedepends="python3-setuptools python3-wheel hatch-vcs"
depends="python3"
short_desc="Finite-state machines in Python"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/glyph/Automat"
distfiles="${PYPI_SITE}/a/automat/automat-${version}.tar.gz"
checksum=0017591a5477066e90d26b0e696ddc143baafd87b588cfac8100bc6be9634de0
alternatives="automat:automat-visualize:/usr/bin/automat-visualize3"

if [ "$XBPS_CHECK_PKGS" = full ]; then
	# some tests require Twisted which would cause a build-time circular dependency
	checkdepends+=" python3-pytest python3-pytest-benchmark python3-graphviz python3-Twisted"
fi

post_install() {
	mv ${DESTDIR}/usr/bin/automat-visualize{,3}
	vlicense LICENSE
}
